<!DOCTYPE html>
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta name="generator" content="Hugo 0.18-DEV" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="//fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">
<link rel="stylesheet" href="http://tuxedocat.github.io/css/normalize.css">
<link rel="stylesheet" href="http://tuxedocat.github.io/css/skeleton.css">
<link rel="stylesheet" href="http://tuxedocat.github.io/css/custom.css">
<link rel="alternate" href="http://tuxedocat.github.io/index.xml" type="application/rss+xml" title="Miaulog">
<title>Disk partition manipulation on OSX 10.11 - Miaulog</title>
</head>
<body>

<div class="container">

	<header role="banner">
		<div class="header-logo">
			<a href="http://tuxedocat.github.io/"><img src="http://tuxedocat.github.io/images/logo.jpg" width="60" height="60" alt="Miaulog"></a>
		</div>
		
	</header>


	<main role="main">
		<article itemscope itemtype="http://schema.org/BlogPosting">
			<h1 class="entry-title" itemprop="headline">Disk partition manipulation on OSX 10.11</h1>
			<span class="entry-meta"><time itemprop="datePublished" datetime="2016-10-30">October 30, 2016</time></span>
			<section itemprop="entry-text">
				<p>üê° üí¢
tl;dr
&gt; For clean installation of OSX, there might be some problems for erasing BootCamp partition and getting it merged with main partition using El Capitan‚Äôs DiskUtility.app. In my case, erasing Recovery partition is needed.</p>

<p>Just a private log of my struggle&hellip;</p>

<p>Trace</p>

<ul>
<li>Saw how people are disappointed with new Macbook Pro</li>
<li>Start thinking to re-use my old MBP 2011 (clean install)</li>
<li>Found BootCamp partition of 70GB which I won‚Äôt use anymore :soon: Erase partition via DiskUtility.app</li>
<li>Reboot, and enter the recovery mode of El Capitan using Recovery HD partition</li>
<li>Enter DiskUtility, and try merging the system partition with free-space which is formally BootCamp partition via Partition menu</li>
<li>‚ÄúOperation failed ‚Ä¶‚Äù</li>
<li>Leave DiskUtility, enter Terminal, and play with diskutil command.</li>
<li>diskutil mergePartitions or some commands failed.</li>
<li>Found Recovery HD partition, which is right next to system partition, was then merged free-space of BootCamp partition</li>
<li>Delete Recovery HD partition to get continuous free-space</li>
<li>&ldquo;OK, let‚Äôs start from zero.&rdquo;</li>
<li>Create El Capitan‚Äôs install drive from another mac using <code>sudo /Applications/Install\ OS\ X\ El\ Capitan.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install\ OS\ X\ El\ Capitan.app</code></li>
<li>Reboot MBP with that disk, erase Macintosh HD again, and this worked normally.</li>
<li>Perform clean install.</li>
</ul>

<p>Thoughts</p>

<ul>
<li>What if I need to merge scattered partitions which cannot be merged easily? :soon: Some features of CoreStorage can be used like LVM, I guess.</li>
</ul>

			</section>
		</article>
	</main>


	<footer role="contentinfo">
		<div class="hr"></div>
		<div class="footer-link">
			
			
			
			
		</div>
		<div class="copyright">Copyright &copy; tuxedocat / CC BY-NC-SA 4.0</div>
	</footer>

</div>



<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

</body>
</html>
