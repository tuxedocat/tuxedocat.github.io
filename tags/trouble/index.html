<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trouble &middot; Miaulog</title>

    <meta name="description" content="">

    <meta name="generator" content="Hugo 0.16" />
    <meta name="twitter:card" content="summary">
    
    <meta name="twitter:title" content="Trouble &middot; Miaulog">
    <meta name="twitter:description" content="">

    <meta property="og:type" content="article">
    <meta property="og:title" content="Trouble &middot; Miaulog">
    <meta property="og:description" content="">

    <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700|Oxygen:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">

    <link rel="stylesheet" href="http://tuxedocat.github.io//css/all.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="alternate" type="application/rss+xml" title="Miaulog" href="http://tuxedocat.github.io//index.xml" />
</head>
<body>


<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
    <div class="header">
        <hgroup>
            <h1 class="brand-title"><a href="http://tuxedocat.github.io/">Miaulog</a></h1>
            <h2 class="brand-tagline"></h2>
        </hgroup>

        <nav class="nav">
            <ul class="nav-list">
                
                
                <li class="nav-item">
                    <a class="pure-button" href="http://tuxedocat.github.io//index.xml"><i class="fa fa-rss"></i> rss</a>
                </li>
            </ul>
        </nav>
    </div>
</div>


    <div class="content pure-u-1 pure-u-md-3-4">
        <div>
            
            <div class="posts">
                
                <h1 class="content-subhead">30 Oct 2016, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://tuxedocat.github.io/post/2016-10-30-osx-clean-install/" class="post-title">Disk partition manipulation on OSX 10.11</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Random" href="http://tuxedocat.github.io//categories/random">Random</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>🐡 💢
tl;dr
&gt; For clean installation of OSX, there might be some problems for erasing BootCamp partition and getting it merged with main partition using El Capitan’s DiskUtility.app. In my case, erasing Recovery partition is needed.</p>

<p>Just a private log of my struggle&hellip;</p>

<p>Trace</p>

<ul>
<li>Saw how people are disappointed with new Macbook Pro</li>
<li>Start thinking to re-use my old MBP 2011 (clean install)</li>
<li>Found BootCamp partition of 70GB which I won’t use anymore :soon: Erase partition via DiskUtility.app</li>
<li>Reboot, and enter the recovery mode of El Capitan using Recovery HD partition</li>
<li>Enter DiskUtility, and try merging the system partition with free-space which is formally BootCamp partition via Partition menu</li>
<li>“Operation failed …”</li>
<li>Leave DiskUtility, enter Terminal, and play with diskutil command.</li>
<li>diskutil mergePartitions or some commands failed.</li>
<li>Found Recovery HD partition, which is right next to system partition, was then merged free-space of BootCamp partition</li>
<li>Delete Recovery HD partition to get continuous free-space</li>
<li>&ldquo;OK, let’s start from zero.&rdquo;</li>
<li>Create El Capitan’s install drive from another mac using <code>sudo /Applications/Install\ OS\ X\ El\ Capitan.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install\ OS\ X\ El\ Capitan.app</code></li>
<li>Reboot MBP with that disk, erase Macintosh HD again, and this worked normally.</li>
<li>Perform clean install.</li>
</ul>

<p>Thoughts</p>

<ul>
<li>What if I need to merge scattered partitions which cannot be merged easily? :soon: Some features of CoreStorage can be used like LVM, I guess.</li>
</ul>

                    </div>
                </section>
                
                <h1 class="content-subhead">06 May 2015, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://tuxedocat.github.io/post/2015-05-06-atom-python-script/" class="post-title">UnicodeEncodeError when running python scripts in Atom.io</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Random" href="http://tuxedocat.github.io//categories/random">Random</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<p>##何?
Atomのscript-pluginでpython実行時にsys.stdoutのencodingがUS-ASCIIになっていたので、<code>print()</code>などで<code>UnicodeEncodeError</code>が出る。</p>

<p>##どうする?</p>

<ul>
<li><p><code>__init__.py</code>などでstdoutのencodingを変更する。</p>

<pre><code class="language-python">import sys
import io
sys.stdout = io.TextIOWrapper(sys.stdout.buffer, encoding='utf-8')
</code></pre></li>

<li><p>Atom.appから起動時には、環境変数をログインシェルから読むみたいなので、例えば<code>.bash_profile</code>に<code>export LANG='en_US.UTF-8'</code>などと書いておく。</p></li>
</ul>

<h3 id="経緯">経緯</h3>

<p>python3.4をpyenv globalで設定していたのに、atomのscript-pluginではOSXのpython2.7.9が使われるのはなんでだろう、と思っていた。
普段はiterm2でzshを起動するようにしていたので、ログインシェル(bash)の設定ファイルへ環境を反映していなかったのが原因だった。</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">12 Jul 2014, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://tuxedocat.github.io/post/2014-07-12-MBPGPU/" class="post-title">GPU Failure (possibly...) on my MBP15&#39; (early 2011 model)</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Random" href="http://tuxedocat.github.io//categories/random">Random</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="symptoms">Symptoms</h2>

<p>Various glitch happen when connecting external displays, or doing GPU intensive tasks.</p>

<ul>
<li><a href="http://www.mbp2011.com/">More details. made by people who are having the same trouble</a></li>
<li><a href="https://discussions.apple.com/thread/4766577">On Apple&rsquo;s discussion board, it is still actively updated.</a></li>
</ul>

<h2 id="workaround">Workaround</h2>

<p>Disable external GPU&hellip; or bring this mbp to &lsquo;genius&rsquo; bar, and get the logic board replaced. The latter is obviously expensive solution, and according to the discussion above, it doesn&rsquo;t resolve the problem permanently.</p>

<p>I would rather wait for upcoming Macbook Pro (late 2014) than tentatively fixing this 3 years-old macbook with no warranty by paying more than <sup>1</sup>&frasl;<sub>5</sub> of my salary.  So I&rsquo;ve decided to disable external GPU, and forget about my thunderbolt display.</p>

<pre><code class="language-sh"># In the single user mode..... (press Cmd+S on boot)

# mount the disk to operate
$ mount -uw /

# I'm just a person who always want it back
$ mkdir ./DisabledExtensions

$ cd /System/Library/Extensions
$ mv AMD* /DisabledExtensions

# I perhaps had to clear the kext-cache, or rebuild kexts, but that time I just restarted and clear the PRAM
$ shutdown  -h now
</code></pre>

<h2 id="how-is-it-lately">How is it lately?</h2>

<p>Absolutely annoying. Of course this saved me from the fatal failure (cannot boot, crash on boot with grayed out display, and etc.), now I can write something on the MBP like this. But while working on some applications which highly depended on the external GPUs such as Google Chrome, Adobe things, some OSX preinstalled applications (Preview.app, Calendar.app, Safari, and etc.) , I&rsquo;ve experienced minor display glitches, and/or very-low FPS animations.</p>

<p>Now I switched to Firefox (reluctantly, but still vimperator is great.), and since I haven&rsquo;t been on the codes lately (sadly because of the job?) it&rsquo;s just annoying not fatal.</p>

<p>(I&rsquo;ll probably buy a new one, and give this to my wife.)</p>

                    </div>
                </section>
                
                <h1 class="content-subhead">22 Dec 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://tuxedocat.github.io/post/2013-12-22-SublimeText-Enabling-Key-Repeating/" class="post-title">[SublimeText] Enabling key repeating on Mavericks</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Random" href="http://tuxedocat.github.io//categories/random">Random</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        <p>On OSX Mavericks, I found the J-K keys repeating was not working when using the vintage (Vim-like) mode.</p>

<p>It&rsquo;s because of the change made by the OS for providing &lsquo;press-and-hold&rsquo; behavior to input certain characters and accents (like in iOS), so the following command snippet can re-enable key repeating:</p>

<pre><code>defaults write com.sublimetext.2 ApplePressAndHoldEnabled -bool false
</code></pre>

                    </div>
                </section>
                
                <h1 class="content-subhead">20 Dec 2013, 00:00</h1>
                <section class="post">
                    <header class="post-header">

                        <a href="http://tuxedocat.github.io/post/2013-12-20-SublimeText2-UI-Glitch/" class="post-title">[SublimeText] UI glitch hell!!</a>

                        <p class="post-meta">
                            
                            
                                under 
                                
                                <a class="post-category post-category-Random" href="http://tuxedocat.github.io//categories/random">Random</a>
                            
                        </p>
                    </header>

                    <div class="post-description">
                        

<h2 id="symptom">Symptom</h2>

<p>The UI is broken, on Sublime Text 2 build 2221.</p>

<p><a href="https://www.sublimetext.com/forum/viewtopic.php?f=3&amp;t=13750">Screenshot and other info.</a></p>

<h2 id="what-i-did">What I did</h2>

<p>According to the forum post above, it is seemed to be an issue of the sublime package control&rsquo;s automatic update function.</p>

<ul>
<li>Backup the setting file of the package control</li>
<li>Re-installed the package control</li>
<li>Re-installed the packages</li>
</ul>

<p>(this fixed the issue, however, seems too obvious and destructive.)</p>

<h3 id="added-2014-10-14">Added 2014.10.14</h3>

<p>I&rsquo;ve just recalled that to delete &ldquo;ignored_packages&rdquo; value in &ldquo;Preferences.sublime-settings&rdquo; work for this issue.</p>

                    </div>
                </section>
                
            </div>
            

            <div class="footer">
    <div class="pure-menu pure-menu-horizontal pure-menu-open">
        <ul>
            <li>Powered by <a class="hugo" href="https://gohugo.io/" target="_blank">hugo</a></li>
        </ul>
    </div>
</div>
<script src="http://tuxedocat.github.io//js/all.min.js"></script>

        </div>
    </div>
</div>

<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', '', 'auto');
ga('send', 'pageview');

</script>

</body>
</html>
