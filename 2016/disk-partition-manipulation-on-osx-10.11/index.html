<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Disk partition manipulation on OSX 10.11 | miauhaus.log</title>



<link rel="stylesheet" href="/css/style.css"/><link rel='stylesheet' href='https://log.tuxedokatze.com/css/custom.css'><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://log.tuxedokatze.com">
          <h1 class="title is-4">miauhaus.log</h1>
        </a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile"></nav>
      </div>
    </nav>

    <nav class="nav">
      

      
    </nav>

  </div>
</section>
<section class="section">
  <div class="container">
    <div class="subtitle tags is-6 is-pulled-right">
      
      
<a class="subtitle is-6" href="/tags/osx">#osx</a>



  
  | <a class="subtitle is-6" href="/tags/mac">#mac</a>
  
  | <a class="subtitle is-6" href="/tags/trouble">#trouble</a>
  

      
    </div>
    <h2 class="subtitle is-6">October 30, 2016</h2>
    <h1 class="title">Disk partition manipulation on OSX 10.11</h1>
    
    <div class="content">
      <h2 id="toc_0">üê° üí¢</h2>

<p>tl;dr
&gt; For clean installation of OSX, there might be some problems for erasing BootCamp partition and getting it merged with main partition using El Capitan‚Äôs DiskUtility.app. In my case, erasing Recovery partition is needed.</p>

<p></p>

<p>Just a private log of my struggle&hellip;</p>

<h2 id="trace">Trace</h2>

<ul>
<li>Saw how people are disappointed with new Macbook Pro</li>
<li>Start thinking to re-use my old MBP 2011 (clean install)</li>
<li>Found BootCamp partition of 70GB which I won‚Äôt use anymore üîú Erase partition via DiskUtility.app</li>
<li>Reboot, and enter the recovery mode of El Capitan using Recovery HD partition</li>
<li>Enter DiskUtility, and try merging the system partition with free-space which is formally BootCamp partition via Partition menu</li>
<li>‚ÄúOperation failed ‚Ä¶‚Äù</li>
<li>Leave DiskUtility, enter Terminal, and play with diskutil command.</li>
<li>diskutil mergePartitions or some commands failed.</li>
<li>Found Recovery HD partition, which is right next to system partition, was then merged free-space of BootCamp partition</li>
<li>Delete Recovery HD partition to get continuous free-space</li>
<li>&ldquo;OK, let‚Äôs start from zero.&rdquo;</li>
<li>Create El Capitan‚Äôs install drive from another mac using <code>sudo /Applications/Install\ OS\ X\ El\ Capitan.app/Contents/Resources/createinstallmedia --volume /Volumes/Untitled --applicationpath /Applications/Install\ OS\ X\ El\ Capitan.app</code></li>
<li>Reboot MBP with that disk, erase Macintosh HD again, and this worked normally.</li>
<li>Perform clean install.</li>
</ul>

<h2 id="thoughts">Thoughts</h2>

<ul>
<li>What if I need to merge scattered partitions which cannot be merged easily? üîú Some features of CoreStorage can be used like LVM, I guess.</li>
</ul>
      
    </div>
    
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy;2011-2018 tuxedocat</p>
    
  </div>
</section>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-46681113-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




</body>
</html>

